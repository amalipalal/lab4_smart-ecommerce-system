<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns="http://javafx.com/javafx/21.0.2"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.controller.category.AdminCategoryController"
            style="
                -fx-font-family: 'Inter', 'Segoe UI', sans-serif;
                -fx-background-color: #f5f7fa;
            ">

    <!-- Sidebar -->
    <left>
        <VBox spacing="20"
              style="
                  -fx-background-color: #1f2933;
                  -fx-padding: 20;
              ">

            <Label text="Admin"
                   style="
                       -fx-text-fill: #e5e7eb;
                       -fx-font-size: 18px;
                       -fx-font-weight: bold;
                   "/>

            <Button text="Products"
                    maxWidth="Infinity"
                    style="
                        -fx-background-color: transparent;
                        -fx-text-fill: #d1d5db;
                        -fx-font-size: 14px;
                        -fx-alignment: CENTER_LEFT;
                        -fx-graphic-text-gap: 10;
                    ">
                <graphic>
                    <FontIcon iconLiteral="fas-box" iconSize="16" iconColor="#d1d5db"/>
                </graphic>
            </Button>

            <!-- Active button -->
            <Button text="Categories"
                    maxWidth="Infinity"
                    style="
                        -fx-background-color: white;
                        -fx-text-fill: black;
                        -fx-font-size: 14px;
                        -fx-alignment: CENTER_LEFT;
                        -fx-graphic-text-gap: 10;
                    ">
                <graphic>
                    <FontIcon iconLiteral="fas-tags" iconSize="16" iconColor="black"/>
                </graphic>
            </Button>

            <Button text="Orders"
                    maxWidth="Infinity"
                    style="
                        -fx-background-color: transparent;
                        -fx-text-fill: #d1d5db;
                        -fx-font-size: 14px;
                        -fx-alignment: CENTER_LEFT;
                        -fx-graphic-text-gap: 10;
                    ">
                <graphic>
                    <FontIcon iconLiteral="fas-shopping-cart" iconSize="16" iconColor="#d1d5db"/>
                </graphic>
            </Button>

            <Button text="Customers"
                    maxWidth="Infinity"
                    style="
                        -fx-background-color: transparent;
                        -fx-text-fill: #d1d5db;
                        -fx-font-size: 14px;
                        -fx-alignment: CENTER_LEFT;
                        -fx-graphic-text-gap: 10;
                    ">
                <graphic>
                    <FontIcon iconLiteral="fas-users" iconSize="16" iconColor="#d1d5db"/>
                </graphic>
            </Button>

        </VBox>
    </left>

    <!-- Main Content -->
    <center>
        <VBox spacing="20"
              style="
                  -fx-padding: 30;
              ">

            <!-- Search & Add Category Button -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <!-- Search box-->
                <HBox alignment="CENTER_LEFT"
                      spacing="6"
                      style="
                      -fx-background-color: white;
                      -fx-padding: 8 8;
                      -fx-background-radius: 10;
                      -fx-border-color: #e5e7eb;
                      -fx-border-radius: 10;
                    ">
                    <FontIcon iconLiteral="fas-search"
                              iconSize="12"
                              iconColor="#6b7280"/>

                    <TextField fx:id="searchField"
                               promptText="Search categories..."
                               style="
                       -fx-border-color: transparent;
                       -fx-background-color: transparent;
                       -fx-font-size: 13px;
                       -fx-pref-width: 220;
                   "/>
                </HBox>

                <Pane HBox.hgrow="ALWAYS"/>

                <!-- Add category button -->
                <Button fx:id="addCategoryBtn"
                        text="Add Category"
                        onAction="#handleAddCategory"
                        style="
                            -fx-background-color: #1f2933;
                            -fx-text-fill: white;
                            -fx-font-size: 12px;
                            -fx-padding: 10 16;
                            -fx-background-radius: 10;
                            -fx-cursor: hand;
                        ">
                    <graphic>
                        <FontIcon iconLiteral="fas-plus"
                                  iconSize="12"
                                  iconColor="white"/>
                    </graphic>
                    <tooltip>
                        <Tooltip text="Add Category"/>
                    </tooltip>
                </Button>
            </HBox>

            <!-- Card -->
            <VBox style="
                    -fx-background-color: white;
                    -fx-padding: 20;
                    -fx-background-radius: 12;
                    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 4);
                ">

                <Label text="Categories"
                       style="
                           -fx-font-size: 18px;
                           -fx-font-weight: bold;
                       "/>

                <TableView fx:id="categoryTable"
                           style="
                               -fx-border-color: transparent;
                           ">
                    <columns>
                        <TableColumn text="ID" fx:id="idColumn"/>
                        <TableColumn text="Name" fx:id="nameColumn"/>
                        <TableColumn text="Description" fx:id="descColumn"/>
                        <TableColumn text="Created" fx:id="createdAtColumn"/>
                        <TableColumn text="Actions" fx:id="actionsColumn"/>
                    </columns>
                </TableView>
                <Pagination fx:id="pagination"
                        maxPageIndicatorCount="5"
                        style="
                            -fx-page-information-visible: false;
                            -fix-padding: 12 0 0 0;
                        "/>

            </VBox>
        </VBox>
    </center>

</BorderPane>